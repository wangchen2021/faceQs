## 浏览器缓存机制
https://blog.csdn.net/2302_80277784/article/details/146720146

原理：基本原理就是用户通过http请求资源之后，会在本地浏览器专门用来存放缓存规则的表中写入缓存资源的信息，也叫映射表，将缓存的资源信息和在用户电脑磁盘中的实际文件路径。当浏览器再次访问资源时，通过浏览器的缓存规则表中的信息，就可以直接从电脑磁盘读取缓存文件了，不用再去请求服务端。

# 缓存优点
● 由于不需要从服务端获取资源，缓存保存在客户端上，客户端加载网页的速度会加快。
● 不需要通过http请求已缓存的资源，减少了网络带宽的费用。
● 减少服务器压力，提升网站性能。

1. 强缓存
强缓存可以通过设置响应头中的Expires和Cache-Control字段来实现

Expires 字段：它指定了资源的过期时间，采用的是格林威治时间（GMT）。例如：
`Expires: Thu, 01 Dec 2025 12:00:00 GMT`

Cache-Control 字段：通过设置max-age参数来指定资源的缓存时间，单位为秒。比如：
`Cache-Control: max-age=3600`

特点
● 优点：能有效减少网络请求，提高页面加载速度，极大提升用户体验。因为在缓存有效期内，浏览器无需与服务器通信，直接从本地获取资源，减少了网络延迟和带宽消耗。
● 缺点：如果资源发生了更新，浏览器无法及时获取最新的资源。只有当缓存过期或者用户手动清除缓存后，才能获取到更新后的资源。

2. 协商缓存
   
协商缓存可以通过设置请求头中的If-Modified-Since和If-None-Match字段，以及响应头中的Last-Modified和Etag字段来实现。

- 第一种
Last-Modified 和 If-Modified-Since：If-Modified-Since是与Last-Modified对应的字段，存储的是上次缓存的资源最终更新时间

如果Last-Modified <= If-Modified-Since，说明资源一致，命中协商缓存，返回 304 状态码Not Modified 。
如果Last-Modified > If-Modified-Since，说明资源被修改，需要返回最新资源给客户端。

- 第二种
Etag 和 If-None-Match：
Etag是实体标记，是与特定资源关联的特定值，是资源唯一性标识的字符串，是缓存的一种强校验器。服务器会为每份资源分配对应的Etag值，并通过响应头首部字段告知客户端资源的实体标识。例如：

特点
● 优点：可以及时获取最新的资源，减少了不必要的网络传输。当资源有更新时，服务器会返回新的资源给客户端，保证用户获取到最新内容。
● 缺点：协商缓存需要进行一次与服务器的通信，增加了请求的延迟。相比强缓存直接从本地读取资源，协商缓存的流程相对复杂一些。